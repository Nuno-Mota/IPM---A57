<style>
      @-webkit-keyframes bluePulse {
        from { -webkit-box-shadow: 0 0 0 #333; }
        to { -webkit-box-shadow: 0 0 18px #003f7f; }
      }
      
      h1 {
        background-color: #007ffe;
        color: white;
        text-align: center;
        text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
      }

  /*Tamanho do scroll area*/
  #tab1-content {

    width:800px;
    height:600px;
    overflow:auto;
  }

  /*background das tabs*/
  article.tabs
  {
    position: relative;
    display: block;
    width: 40em;
    height: 15em;
    margin: 2em auto;
    background-color: #fff;
  }

  /*Tamanho das seccoes*/
  article.tabs section
  {
    position: absolute;
    display: block;
    top: 1.8em;
    left: 0;
    width: 800px;
    height: 600px;
    padding: 10px 20px;
    background-color: #ddd;
    border-radius: 5px;
    box-shadow: 0 3px 3px rgba(0,0,0,0.1);
    z-index: 0;
  }

  article.tabs section:first-child
  {
    z-index: 1;
  }

 /*estilo das tabs */
  article.tabs section h2
  {
    position: absolute;
    font-size: 1em;
    font-weight: normal;
    width: 200px;
    height: 1.8em;
    top: -1.8em;
    left: 10px;
    padding: 0;
    margin: 0;
    color: #000;
    background-color: #aaa;
    border-radius: 5px 5px 0 0;
  }

  article.tabs section:nth-child(2) h2
  {
    left: 220px;
    background-color: #aaa;
  }

  article.tabs section:nth-child(3) h2
  {
    left: 440px;
    background-color: #aaa;
  }

  article.tabs section h2 a
  {
    display: block;
    width: 100%;
    line-height: 1.8em;
    text-align: center;
    text-decoration: none;
    color: inherit;
    outline: 0 none;
  }

  article.tabs section:target,
  article.tabs section:target h2
  {
      color: #333;
      background-color: #eee;
      z-index: 2;
  }


 #bebidas_adicionadas
   {
    position: absolute;
    display: block;
    width: 400px;
    height: 620px;
    top: 130px;
    background-color: #eee;
    border-radius: 5px;
    box-shadow: 0 3px 3px rgba(0,0,0,0.1);
    z-index: 0;
    overflow: auto;
  }

  .texto_bebida_adicionada {

    font-size: 30px;
  }

  #backToMainMenu {
    position: absolute;
    top: 780px;
    left: 850px;
  }
  #confirmarBebida {
    position: absolute;
    top: 760px;
    left: 1500px;
  }
  #limpar {
    position: absolute;
    top: 380px;
    left: 640px;
  }

  .button {
      display: block;
      background: #ffffff;
      padding: 5px;
      text-align: center;
      border-radius: 5px;
      color: white;
      font-weight: bold;
      font-size: 16px;
      display: inline-block;
    }

</style>

<body>
  <h1>Bebidas Personaliz&aacute;veis</h1>
  <table >
    <tr>
      <!--Tamanho da parte das tabs-->
      <td width = "1200px">
        <article class="tabs">

          <section id="tab1">
            <h2><a href="#tab1">Bebidas alco&oacute;licas</a></h2>
            <div id="tab1-content">
              <table align="center" width="600">
                <tr>
                  <td>
                    <img id="whiskey" src = "Images/whiskey.png" height="250" onclick="adicionar_bebida('whiskey')" style="cursor: pointer;">
                  </td>
                  <td>
                    <span>Whiskey Jack Daniels: Bebida alco&oacute;lica fermentada preparada &agrave; base de malte de cevada, milho, centeio e &aacute;gua (40% &aacute;lcool)</span>
                  </td>
                </tr>
                <tr>
                  <td>
                    <img id="cerveja" src = "Images/beer.png" height="250" onclick="adicionar_bebida('cerveja')" style="cursor: pointer;">
                  </td>
                  <td>
                    <span>Cerveja Super Bock: Cerveja portuguesa (5,2% &aacute;lcool)</span>
                  </td>
                </tr>
                <tr>
                  <td >
                    <img id="rum" src = "Images/rum.PNG" height="250" onclick="adicionar_bebida('rum')" style="cursor: pointer;">
                  </td>
                  <td>
                    <span>Rum Bacardi: Bebida alco&oacute;lica fermentada preparada &agrave; base do mela&ccedil;o e de caldo de cana  (37,5% &aacute;lcool)</span>
                  </td>
                </tr>
              </table>
            </div>
          </section>
          
          <section id="tab2">
            <h2><a href="#tab2">Bebidas n&atilde;o alco&oacute;licas</a></h2>
            <table align="center" width="600">
              <tr>
                <td>
                  <img id="cocacola" src = "Images/cocacola.png" height="250" onclick="adicionar_bebida('cocacola')" style="cursor: pointer;">
                </td>
                <td>
                  <span>Coca cola: Bebida carbonada (com g&aacute;s) feita &agrave; base de &aacute;gua gaseificada, a&ccedil;&uacute;car, cafe&iacute;na e extrato de Noz de cola</span>
                </td>
              </tr>
              <tr>
                <td>
                  <img id="fanta" src = "Images/fanta.png" height="250" onclick="adicionar_bebida('fanta')" style="cursor: pointer;">
                </td>
                <td>
                  <span>Fanta Laranja: Bebida carbonada (com g&aacute;s) feita &agrave; base de soro de leite coalhado, baga&ccedil;o de ma&ccedil;&atilde;, a&ccedil;&uacute;car e concentrado de laranja</span>
                </td>
              </tr>
            </table>
          </section>
          
          <section id="tab3">
            <h2><a href="#tab3">Extras</a></h2>
            <table align="center" width="600">
              <tr>
                <td>
                  <img id="limao" src = "Images/lemon.png" height="250" onclick="adicionar_bebida('limao')" style="cursor: pointer;">
                </td>
                <td>
                  <span>Rodela de Lim&atilde;o: Fruto &aacute;cido (2 un.)</span>
                </td>
              </tr>
              <tr>
                <td>
                  <img id="azeitonas" src = "Images/olive.png" height="100" onclick="adicionar_bebida('azeitonas')" style="cursor: pointer;">
                </td>
                <td>
                  <span>Azeitonas verdes: Pequena por&ccedil;&atilde;o de azeitonas verdes (2 un.)</span>
                </td>
              </tr>
            </table>
          </section>

        </article>
      </td>
      <td>
        <div id = "bebidas_adicionadas"></div>        
      </td>     
    </tr>
  </table>
  <div id ="backToMainMenu" align="center">
    </div>
  <div id ="confirmarBebida" align="center">

      <img id="Forward" src="Images/forward.png" width="100" height="75" onclick = "mostrar_dialogo()" style="cursor: pointer;">
      
    <div id="buttonINFi" align="center">
      <dialog id="myDialog"><b>A sua bebida foi encomendada!</br></b>(Esc para sair)</dialog>
    </div>
    </div>
  <div id ="limpar" align="center">
      <img id="Limpar" src="Images/canceldrink.png" width="100" height="75" onclick = "limpar()" style="cursor: pointer;"> </div>
</body>

<script>

    /*Funcao para substituir um caracter numa string*/
    String.prototype.replaceAt = function (index, character) {
        return this.substr(0, index) + character + this.substr(index + character.length);
    }
    String.prototype.getValueAt = function (index) {
        return this.substr(index, 1);
    }
    var query = window.location.search.substring(1);
    var vars = query.split("&");
    var pair1 = vars[0].split("=");
    contador = pair1[1];
    var pair2 = vars[1].split("=");
    flagWaiter = pair2[1];
    var pair3 = vars[2].split("=");
    taxivalor = pair3[1];
    var pair4 = vars[3].split("=");
    bebidas = pair4[1];


    
    var addressElement1 = document.createElement('a');
    var attribute1 = document.createAttribute("id");
    attribute1.value = "hrefBackToMain";
    addressElement1.setAttributeNode(attribute1);
    var attribute11 = document.createAttribute("class");
    attribute11.value = "image";
    addressElement1.setAttributeNode(attribute11);
    var attribute2 = document.createAttribute("href");
    var address = "main.html?hid1=" + contador.toString() + "&hid2=" + flagWaiter.toString() + "&hid3=" + taxivalor.toString() + "&hid4=" + bebidas;
    attribute2.value = address;
    addressElement1.setAttributeNode(attribute2);
    addressElement1.innerHTML = "<img id=\"Back\" src = \"Images/backicon.png\" width=\"100\" height=\"75\">";
    document.getElementById('backToMainMenu').appendChild(addressElement1);


    if (bebidas == "0000000") {
        document.getElementById('confirmarBebida').style = "opacity:0.25;";
    }

    function mostrar_dialogo() {
        if (bebidas != "0000000") {
            document.getElementById('myDialog').showModal();
        }
  }

  function limpar() {
    var childs =  document.getElementById('bebidas_adicionadas').childNodes;
    for (var i = 0; i < childs.length;) {
        remover_bebida(childs[i].id);
    }
  }

  function adicionar_bebida(variavel) {

      if (bebidas == "0000000")
          document.getElementById('confirmarBebida').style = "opacity:1;";

      if (document.getElementById(variavel).id == "whiskey")
          bebidas = bebidas.replaceAt(0, '1');
      if (document.getElementById(variavel).id == "cerveja")
          bebidas = bebidas.replaceAt(1, '1');
      if (document.getElementById(variavel).id == "rum")
          bebidas = bebidas.replaceAt(2, '1');
      if (document.getElementById(variavel).id == "cocacola")
          bebidas = bebidas.replaceAt(3, '1');
      if (document.getElementById(variavel).id == "fanta")
          bebidas = bebidas.replaceAt(4, '1');
      if (document.getElementById(variavel).id == "limao")
          bebidas = bebidas.replaceAt(5, '1');
      if (document.getElementById(variavel).id == "azeitonas")
          bebidas = bebidas.replaceAt(6, '1');

    var address1 = "main.html?hid1=" + contador.toString() + "&hid2=" + flagWaiter.toString() + "&hid3=" + taxivalor.toString() + "&hid4=" + bebidas;
    document.getElementById('hrefBackToMain').href = address1;

    var teste = document.getElementById(variavel).id + "_adicionar";

    if (document.getElementById(teste) ==  null) {
      var addressElement = document.createElement('p'); 

      var attribute1 = document.createAttribute("id");
      attribute1.value = teste;
      addressElement.setAttributeNode(attribute1);

      var attribute2 = document.createAttribute("class");
      attribute2.value = "texto_bebida_adicionada";
      addressElement.setAttributeNode(attribute2);

      var texto = document.getElementById(variavel).id;
      addressElement.innerHTML="<img id=\"whiskey\" src = \"Images/trash.png\" height=\"25\" onclick=\"remover_bebida('" + teste + "')\">" + texto ;


      document.getElementById('bebidas_adicionadas').appendChild(addressElement);

    }
    //TODO: else print mensagem!
  }

  function remover_bebida(variavel) {

    var elem = document.getElementById(variavel);

    if (document.getElementById(variavel).id == "whiskey_adicionar")
        bebidas = bebidas.replaceAt(0, '0');

    if (document.getElementById(variavel).id == "cerveja_adicionar")
        bebidas = bebidas.replaceAt(1, '0');
    if (document.getElementById(variavel).id == "rum_adicionar")
        bebidas = bebidas.replaceAt(2, '0');
    if (document.getElementById(variavel).id == "cocacola_adicionar")
        bebidas = bebidas.replaceAt(3, '0');
    if (document.getElementById(variavel).id == "fanta_adicionar")
        bebidas = bebidas.replaceAt(4, '0');
    if (document.getElementById(variavel).id == "limao_adicionar")
        bebidas = bebidas.replaceAt(5, '0');
    if (document.getElementById(variavel).id == "azeitonas_adicionar")
        bebidas = bebidas.replaceAt(6, '0');

    var address1 = "main.html?hid1=" + contador.toString() + "&hid2=" + flagWaiter.toString() + "&hid3=" + taxivalor.toString() + "&hid4=" + bebidas;
    document.getElementById('hrefBackToMain').href = address1;
      
    if (bebidas == "0000000")
        document.getElementById('confirmarBebida').style = "opacity:0.2;";

    elem.parentNode.removeChild(elem);
  }


  if (bebidas.getValueAt(0) == "1")
      adicionar_bebida("whiskey");
  if (bebidas.getValueAt(1) == "1")
      adicionar_bebida("cerveja");
  if (bebidas.getValueAt(2) == "1")
      adicionar_bebida("rum");
  if (bebidas.getValueAt(3) == "1")
      adicionar_bebida("cocacola");
  if (bebidas.getValueAt(4) == "1")
      adicionar_bebida("fanta");
  if (bebidas.getValueAt(5) == "1")
      adicionar_bebida("limao");
  if (bebidas.getValueAt(6) == "1")
      adicionar_bebida("azeitonas");
</script>
